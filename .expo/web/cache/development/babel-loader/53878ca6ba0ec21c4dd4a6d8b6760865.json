{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\test\\\\Desktop\\\\rlab1\\\\mobile_lab1\\\\pages\\\\SignUp\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport firebase from 'firebase/app';\nimport Button from '@material-ui/core/Button';\nimport { TextField } from '@material-ui/core';\nimport axios from 'axios';\nimport deviceStorage from \"../../scr/services/deviceStorage\";\n\nvar SignUp = function SignUp(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({\n    email: '',\n    phone: 0,\n    password: '',\n    isValidEmail: true,\n    isValidPassword: true,\n    isValidPhone: true,\n    name: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var whichForm = function whichForm() {\n    if (!showLogin) {\n      return React.createElement(Registration, {\n        newJWT: newJWT,\n        authSwitch: authSwitch,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 9\n        }\n      });\n    } else {\n      return React.createElement(Login, {\n        newJWT: newJWT,\n        authSwitch: authSwitch,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 9\n        }\n      });\n    }\n  };\n\n  var registerUser = function registerUser() {\n    var _useState3 = useState({\n      email: '',\n      password: '',\n      password_confirmation: ''\n    }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        info = _useState4[0],\n        setInfo = _useState4[1];\n\n    setInfo({\n      error: '',\n      loading: true\n    });\n    axios.post(\"http://localhost:4000/api/v1/sign_up\", {\n      user: {\n        email: info.email,\n        password: info.password,\n        password_confirmation: info.password_confirmation\n      }\n    }).then(function (response) {\n      deviceStorage.saveKey(\"id_token\", response.data.jwt);\n      newJWT(response.data.jwt);\n    }).catch(function (error) {});\n  };\n\n  var onPressed = function onPressed() {\n    firebase.auth().createUserWithEmailAndPassword(data.email, data.password).then(function () {\n      navigation.navigate(\"Home\", {\n        name: data.name\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var validate = function validate(text) {\n    var reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n    if (reg.test(text) === true) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        email: text,\n        isValidEmail: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        email: text,\n        isValidEmail: false\n      }));\n    }\n  };\n\n  var checkNum = function checkNum(num) {\n    if (num.length === 10) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        phone: num,\n        isValidPhone: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        phone: num,\n        isValidPhone: false\n      }));\n    }\n  };\n\n  var handlePasswordChange = function handlePasswordChange(val) {\n    if (val.length >= 8) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: false\n      }));\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.wrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.titleWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Sign up\"), React.createElement(View, {\n    style: styles.rowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: styles.contain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, React.createElement(TextField, {\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    helperText: data.isValidEmail ? null : \"Incorrect entry.\",\n    onChange: function onChange(text) {\n      return validate(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }))), React.createElement(View, {\n    style: styles.rowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, React.createElement(TextField, {\n    type: \"text\",\n    id: \"name\",\n    placeholder: \"Name\",\n    onChange: function onChange(name) {\n      setData({\n        name: name\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: styles.rowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: styles.contain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, React.createElement(TextField, {\n    id: \"phone\",\n    placeholder: \"Phone\",\n    helperText: data.isValidPhone ? null : \"Incorrect entry.\",\n    onChange: function onChange(num) {\n      return checkNum(num);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }))), React.createElement(View, {\n    style: styles.rowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, React.createElement(View, {\n    style: styles.contain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }, React.createElement(TextField, {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    helperText: data.isValidPassword ? null : \"Incorrect entry.\",\n    onChange: function onChange(val) {\n      return handlePasswordChange(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }))), React.createElement(View, {\n    style: styles.buttonWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, React.createElement(Button, {\n    onClick: onPressed,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, \"Sign Up\")), React.createElement(View, {\n    style: styles.lastRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.qa,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, \"Not with us yet?\"), React.createElement(Text, {\n    style: styles.link,\n    onPress: function onPress() {\n      navigation.navigate(\"SignIn\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Sign In\"))));\n};\n\nvar styles = StyleSheet.create({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    backgroundColor: '#ecf0f1',\n    alignItems: 'center'\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: 16,\n    width: 380,\n    height: 550,\n    justifyContent: 'center',\n    alignContent: 'center'\n  },\n  titleWrapper: {\n    display: 'flex',\n    fontWeight: 'bold',\n    fontSize: 32,\n    justifyContent: 'center'\n  },\n  rowContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 16,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#ffffff',\n    padding: 16\n  },\n  buttonWrapper: {\n    display: 'flex',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#1A1E3D',\n    marginTop: 16\n  },\n  lastRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 8,\n    marginLeft: 16,\n    marginRight: 48\n  },\n  qa: {\n    fontSize: 14.4,\n    color: '#1A1E3D'\n  },\n  link: {\n    fontWeight: 'bold',\n    color: '#6BB5C9'\n  },\n  errorText: {\n    fontSize: 11.2,\n    color: '#C7424F',\n    fontWeight: 'bold',\n    width: 128\n  },\n  contain: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n});\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/test/Desktop/rlab1/mobile_lab1/pages/SignUp/index.js"],"names":["React","useState","firebase","Button","TextField","axios","deviceStorage","SignUp","navigation","email","phone","password","isValidEmail","isValidPassword","isValidPhone","name","data","setData","whichForm","showLogin","newJWT","authSwitch","registerUser","password_confirmation","info","setInfo","error","loading","post","user","then","response","saveKey","jwt","catch","onPressed","auth","createUserWithEmailAndPassword","navigate","console","log","validate","text","reg","test","checkNum","num","length","handlePasswordChange","val","styles","wrapper","container","titleWrapper","rowContainer","contain","buttonWrapper","lastRow","qa","link","StyleSheet","create","display","flexDirection","justifyContent","backgroundColor","alignItems","padding","width","height","alignContent","fontWeight","fontSize","marginTop","borderWidth","borderStyle","borderColor","marginLeft","marginRight","color","errorText"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Text, View, StyleSheet, TextInput } from 'react-native'\r\nimport firebase from 'firebase/app'\r\nimport Button from '@material-ui/core/Button';\r\nimport { TextField } from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport deviceStorage from '../../scr/services/deviceStorage';\r\n\r\nconst SignUp = ({ navigation }) => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    phone: 0,\r\n    password: '',\r\n    isValidEmail: true,\r\n    isValidPassword: true,\r\n    isValidPhone: true,\r\n    name: '',\r\n  })\r\n\r\n  const whichForm = () => {\r\n    if(!showLogin){\r\n      return(\r\n        <Registration newJWT={newJWT} authSwitch={authSwitch} />\r\n      );\r\n    } else {\r\n      return(\r\n        <Login newJWT={newJWT} authSwitch={authSwitch} />\r\n      );\r\n    }\r\n  }\r\n\r\n  const registerUser = () => {\r\n    const [info, setInfo] = useState({ email: '', password: '', password_confirmation: '' });\r\n\r\n    setInfo({ error: '', loading: true });\r\n\r\n    axios.post(\"http://localhost:4000/api/v1/sign_up\",{\r\n      user: {\r\n        email: info.email,\r\n        password: info.password,\r\n        password_confirmation: info.password_confirmation\r\n      }\r\n    },)\r\n    .then((response) => {\r\n      deviceStorage.saveKey(\"id_token\", response.data.jwt);\r\n      newJWT(response.data.jwt);\r\n    })\r\n    .catch((error) => {\r\n       // Handle returned errors here\r\n    });\r\n  }\r\n\r\n  const onPressed = () => {\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(data.email, data.password)\r\n      .then(() => {navigation.navigate(\"Home\", { name : data.name})})\r\n      .catch((error)=> {\r\n        console.log(error);\r\n      })\r\n  }\r\n  \r\n  const validate = (text) => {\r\n    let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\r\n    if (reg.test(text) === true) {\r\n      setData({ ...data, email: text, isValidEmail: true })\r\n    } else {\r\n      setData({ ...data, email: text, isValidEmail: false })\r\n    }\r\n  }\r\n\r\n  const checkNum = (num) => {\r\n    if (num.length === 10) {\r\n      setData({ ...data, phone: num, isValidPhone: true })\r\n    } else {\r\n      setData({ ...data, phone: num, isValidPhone: false })\r\n    }\r\n  }\r\n\r\n  const handlePasswordChange = (val) => {\r\n    if (val.length >= 8) {\r\n      setData({\r\n        ...data,\r\n        password: val,\r\n        isValidPassword: true,\r\n      })\r\n    } else {\r\n      setData({\r\n        ...data,\r\n        password: val,\r\n        isValidPassword: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  return (<View style={styles.wrapper}>\r\n        <View style={styles.container}>\r\n              <Text style={styles.titleWrapper}>Sign up</Text>\r\n              <View style={styles.rowContainer}>\r\n                <View style={styles.contain}>\r\n                <TextField\r\n                id=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                helperText={data.isValidEmail ? null : \"Incorrect entry.\"}\r\n                onChange={(text) => validate(text)}\r\n              />\r\n                </View>\r\n              </View>\r\n              <View style={styles.rowContainer}>\r\n                <TextField\r\n                  type=\"text\"\r\n                  id=\"name\"\r\n                  placeholder=\"Name\"\r\n                  onChange={(name) => {\r\n                    setData({ name: name })\r\n                  }}\r\n                />\r\n              </View>\r\n              <View style={styles.rowContainer}>\r\n                <View style={styles.contain}>\r\n                  <TextField\r\n                  id=\"phone\"\r\n                  placeholder=\"Phone\"\r\n                  helperText={data.isValidPhone ? null : \"Incorrect entry.\"}\r\n                  onChange={(num) => checkNum(num)}\r\n                />\r\n                </View>\r\n              </View>\r\n              <View style={styles.rowContainer}>\r\n                <View style={styles.contain}>\r\n                <TextField\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  helperText={data.isValidPassword ? null : \"Incorrect entry.\"}\r\n                  onChange={(val) => handlePasswordChange(val)}\r\n                />\r\n                </View>\r\n              </View>\r\n              <View style={styles.buttonWrapper}>\r\n                <Button\r\n                  onClick={onPressed}\r\n                >Sign Up</Button>\r\n              </View>\r\n              <View style={styles.lastRow}>\r\n                <Text style={styles.qa}>Not with us yet?</Text>\r\n                <Text\r\n                  style={styles.link}\r\n                  onPress={() => {\r\n                  navigation.navigate(\"SignIn\")\r\n                }}\r\n              >\r\n              Sign In\r\n            </Text>\r\n        </View>\r\n    </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#ecf0f1',\r\n    alignItems: 'center',\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: 16,\r\n    width: 380,\r\n    height: 550,\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n  },\r\n  titleWrapper: {\r\n    display: 'flex',\r\n    fontWeight: 'bold',\r\n    fontSize: 32,\r\n    justifyContent: 'center',\r\n  },\r\n  rowContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    marginTop: 16,\r\n    borderWidth: 1, \r\n    borderStyle: 'solid', \r\n    borderColor: '#ffffff',\r\n    padding: 16,\r\n  },\r\n  buttonWrapper: {\r\n    display: 'flex',\r\n    borderWidth: 1, \r\n    borderStyle: 'solid', \r\n    borderColor: '#1A1E3D',\r\n    marginTop: 16,\r\n  },\r\n  lastRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    padding: 8,\r\n    marginLeft: 16,\r\n    marginRight: 48,\r\n  },\r\n  qa: {\r\n    fontSize: 14.4,\r\n    color: '#1A1E3D',\r\n  },\r\n  link: {\r\n    fontWeight: 'bold',\r\n    color: '#6BB5C9',\r\n  },\r\n  errorText: {\r\n    fontSize: 11.2,\r\n    color: '#C7424F',\r\n    fontWeight: 'bold',\r\n    width: 128,\r\n  },\r\n  contain: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n})\r\n\r\nexport default SignUp\r\n"]},"metadata":{},"sourceType":"module"}