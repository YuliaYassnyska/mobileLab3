{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\test\\\\Desktop\\\\rlab1\\\\mobile_lab1\\\\pages\\\\SignIn\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Loading } from \"react-native-web/dist/index\";\nimport firebase from 'firebase/app';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport NetInfo from \"@react-native-community/netinfo\";\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nvar SignIn = function SignIn(_ref, props) {\n  var navigation = _ref.navigation,\n      newJWT = _ref.newJWT;\n\n  var _useState = useState({\n    email: '',\n    password: '',\n    isValidEmail: true,\n    isValidPassword: true,\n    error: '',\n    snackbar: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var point = props.point;\n\n  var onButtonPress = function onButtonPress() {\n    var email = data.email,\n        password = data.password;\n    firebase.auth().signInWithEmailAndPassword(email, password).then(function () {\n      navigation.navigate(\"SoilSense\");\n    }).catch(onLoginFail);\n  };\n\n  var onLoginFail = function onLoginFail() {\n    setData({\n      error: 'Authentication Failed'\n    });\n  };\n\n  var validate = function validate(text) {\n    var reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n    if (reg.test(text) === true) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        email: text,\n        isValidEmail: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        email: text,\n        isValidEmail: false\n      }));\n    }\n  };\n\n  var handlePasswordChange = function handlePasswordChange(val) {\n    if (val.length >= 8) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: false\n      }));\n    }\n  };\n\n  var handleClose = function handleClose(event, reason) {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setData({\n      snackbar: false\n    });\n  };\n\n  var unsubscribeConnectionListener = function unsubscribeConnectionListener() {\n    NetInfo.addEventListener(function (state) {\n      return React.createElement(Snackbar, {\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'left'\n        },\n        open: state.isConnected === false,\n        autoHideDuration: 6000,\n        onClose: handleClose,\n        message: \"Note archived\",\n        action: React.createElement(React.Fragment, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }\n        }, React.createElement(Button, {\n          color: \"secondary\",\n          size: \"small\",\n          onClick: handleClose,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }\n        }, \"Internet error\"), React.createElement(IconButton, {\n          size: \"small\",\n          \"aria-label\": \"close\",\n          color: \"inherit\",\n          onClick: handleClose,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }\n        }, React.createElement(CloseIcon, {\n          fontSize: \"small\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }\n        }))),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 14\n        }\n      });\n    });\n    return point;\n  };\n\n  return React.createElement(React.Fragment, null, unsubscribeConnectionListener(), React.createElement(View, {\n    style: styles.wrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.titleWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Sign in\"), React.createElement(View, {\n    style: styles.rowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.contain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, React.createElement(TextInput, {\n    type: \"text\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    onChangeText: function onChangeText(text) {\n      return validate(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }), data.isValidEmail ? null : React.createElement(Text, {\n    style: styles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 86\n    }\n  }, \"field is required\"))), React.createElement(View, {\n    style: styles.rowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.contain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 43\n    }\n  }, React.createElement(TextInput, {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    onChangeText: function onChangeText(val) {\n      return handlePasswordChange(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), data.isValidPassword ? null : React.createElement(Text, {\n    style: styles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 45\n    }\n  }, \"field is required\"))), React.createElement(Text, {\n    style: styles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, data.error), React.createElement(View, {\n    style: styles.buttonWrapper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    onClick: onButtonPress,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, \"Sign In\")), React.createElement(View, {\n    style: styles.lastRow,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.qa,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, \"Not with us yet?\"), React.createElement(Text, {\n    style: styles.link,\n    onPress: function onPress() {\n      navigation.navigate('SignUp');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")))));\n};\n\nvar styles = StyleSheet.create({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#ecf0f1'\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: 16,\n    width: 380,\n    height: 400\n  },\n  titleWrapper: {\n    display: 'flex',\n    fontWeight: 'bold',\n    fontSize: 32,\n    justifyContent: 'center'\n  },\n  rowContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginTop: 16,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#ffffff',\n    padding: 16\n  },\n  buttonWrapper: {\n    display: 'flex',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: '#1A1E3D',\n    marginTop: 16\n  },\n  lastRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    padding: 8,\n    marginLeft: 16,\n    marginRight: 48\n  },\n  qa: {\n    fontSize: 14.4,\n    color: '#1A1E3D'\n  },\n  link: {\n    fontWeight: 'bold',\n    color: '#6BB5C9'\n  },\n  errorText: {\n    fontSize: 11.2,\n    color: '#C7424F',\n    fontWeight: 'bold',\n    width: 128\n  },\n  contain: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n});\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/test/Desktop/rlab1/mobile_lab1/pages/SignIn/index.js"],"names":["React","useState","Loading","firebase","Button","Snackbar","NetInfo","IconButton","CloseIcon","SignIn","props","navigation","newJWT","email","password","isValidEmail","isValidPassword","error","snackbar","data","setData","point","onButtonPress","auth","signInWithEmailAndPassword","then","navigate","catch","onLoginFail","validate","text","reg","test","handlePasswordChange","val","length","handleClose","event","reason","unsubscribeConnectionListener","addEventListener","state","vertical","horizontal","isConnected","styles","wrapper","container","titleWrapper","rowContainer","contain","errorText","buttonWrapper","lastRow","qa","link","StyleSheet","create","display","flexDirection","justifyContent","alignItems","backgroundColor","padding","width","height","fontWeight","fontSize","marginTop","borderWidth","borderStyle","borderColor","marginLeft","marginRight","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Text, View, StyleSheet, TextInput, Loading } from 'react-native'\r\nimport firebase from 'firebase/app'\r\nimport Button from '@material-ui/core/Button';\r\n// import { TextField } from '@material-ui/core';\r\n// import axios from 'axios';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport NetInfo from \"@react-native-community/netinfo\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nconst SignIn = ({ navigation, newJWT }, props) => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n    isValidEmail: true,\r\n    isValidPassword: true,\r\n    error: '',\r\n    snackbar: false\r\n    // password_confirmation: '',\r\n    // loading: false\r\n  })\r\n\r\n  const { point } = props\r\n\r\n\r\n\r\n  const onButtonPress = () => {\r\n    const { email, password } = data\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(() => { navigation.navigate(\"SoilSense\") })\r\n      .catch(onLoginFail)\r\n  }\r\n\r\n  const onLoginFail = () => {\r\n    setData({ error: 'Authentication Failed' })\r\n  }\r\n\r\n  const validate = (text) => {\r\n    let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\r\n    if (reg.test(text) === true) {\r\n      setData({ ...data, email: text, isValidEmail: true })\r\n    } else {\r\n      setData({ ...data, email: text, isValidEmail: false })\r\n    }\r\n  }\r\n\r\n  // const loginUser = () => {\r\n  //   const { email, password, password_confirmation } = data;\r\n\r\n  //   setData({ error: '', loading: true });\r\n\r\n  //   // NOTE Post to HTTPS only in production\r\n  //   axios.post(\"http://localhost:4000/api/v1/sign_in\",{\r\n  //       email: email,\r\n  //       password: password\r\n  //   })\r\n  //   .then((response) => {\r\n  //     deviceStorage.saveKey(\"id_token\", response.data.jwt);\r\n  //     this.props.newJWT(response.data.jwt);\r\n  //   })\r\n  //   .catch((error) => {\r\n  //     console.log(error);\r\n  //   });\r\n  // }\r\n\r\n  const handlePasswordChange = (val) => {\r\n    if (val.length >= 8) {\r\n      setData({\r\n        ...data,\r\n        password: val,\r\n        isValidPassword: true,\r\n      })\r\n    } else {\r\n      setData({\r\n        ...data,\r\n        password: val,\r\n        isValidPassword: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setData({ snackbar: false });\r\n  };\r\n\r\n  // var point;\r\n\r\n  var unsubscribeConnectionListener = () => {\r\n    NetInfo.addEventListener(state => {\r\n      // if (state.isConnected) {\r\n      // point == false;\r\n      // } else {\r\n      // point == true;\r\n      return <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={state.isConnected === false}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n        message=\"Note archived\"\r\n        action={\r\n          <React.Fragment>\r\n            <Button color=\"secondary\" size=\"small\" onClick={handleClose}>\r\n              Internet error\r\n              </Button>\r\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n              <CloseIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </React.Fragment>\r\n        }\r\n      />\r\n      // }\r\n      // setData({ snackbar: !state.isConnected });\r\n    })\r\n    return point;\r\n    // setData({ snackbar: point });\r\n  }\r\n  return (<>\r\n    {unsubscribeConnectionListener()}\r\n    <View style={styles.wrapper}>\r\n      <View style={styles.container}>\r\n        <Text style={styles.titleWrapper}>Sign in</Text>\r\n        <View style={styles.rowContainer}>\r\n          <View style={styles.contain}>\r\n            <TextInput\r\n              type=\"text\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              onChangeText={(text) => validate(text)} />{data.isValidEmail ? null : (<Text style={styles.errorText}>field is required</Text>)}</View></View>\r\n        <View style={styles.rowContainer}><View style={styles.contain}>\r\n          <TextInput\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            onChangeText={(val) => handlePasswordChange(val)}\r\n          />{data.isValidPassword ? null : (<Text style={styles.errorText}>field is required</Text>)}\r\n        </View>\r\n        </View>\r\n        <Text style={styles.errorText}>{data.error}</Text>\r\n        <View style={styles.buttonWrapper}>\r\n          <Button onClick={onButtonPress}>Sign In</Button>\r\n        </View>\r\n        <View style={styles.lastRow}>\r\n          <Text style={styles.qa}>Not with us yet?</Text>\r\n          <Text\r\n            style={styles.link}\r\n            onPress={() => { navigation.navigate('SignUp') }}>Sign Up</Text>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  </>)\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  wrapper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#ecf0f1',\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    padding: 16,\r\n    width: 380,\r\n    height: 400,\r\n  },\r\n  titleWrapper: {\r\n    display: 'flex',\r\n    fontWeight: 'bold',\r\n    fontSize: 32,\r\n    justifyContent: 'center',\r\n  },\r\n  rowContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    marginTop: 16,\r\n    borderWidth: 1,\r\n    borderStyle: 'solid',\r\n    borderColor: '#ffffff',\r\n    padding: 16,\r\n  },\r\n  buttonWrapper: {\r\n    display: 'flex',\r\n    borderWidth: 1,\r\n    borderStyle: 'solid',\r\n    // backgroudColor: \"#E9B735\", \r\n    borderColor: '#1A1E3D',\r\n    marginTop: 16,\r\n  },\r\n  lastRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    padding: 8,\r\n    marginLeft: 16,\r\n    marginRight: 48,\r\n  },\r\n  qa: {\r\n    fontSize: 14.4,\r\n    color: '#1A1E3D',\r\n  },\r\n  link: {\r\n    fontWeight: 'bold',\r\n    color: '#6BB5C9',\r\n  },\r\n  errorText: {\r\n    fontSize: 11.2,\r\n    color: '#C7424F',\r\n    fontWeight: 'bold',\r\n    width: 128,\r\n  },\r\n  contain: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n})\r\n\r\nexport default SignIn\r\n"]},"metadata":{},"sourceType":"module"}